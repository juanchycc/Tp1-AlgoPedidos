Object subclass: #AlgoPedidos	instanceVariableNames: 'Pedidos'	classVariableNames: ''	package: 'TP1'!!AlgoPedidos methodsFor: 'initialization' stamp: 'Juancc 10/28/2020 11:19'!initialize 	Pedidos := Dictionary new! !!AlgoPedidos methodsFor: 'as yet unclassified' stamp: 'juancc 11/1/2020 16:05'!removerCuponDePedidoDe: UnNombre 		(Pedidos at: UnNombre) removerCupones! !!AlgoPedidos methodsFor: 'as yet unclassified' stamp: 'juancc 11/1/2020 16:05'!agregarCuponAPedidoDe: UnNombre conValor: UnValor	(Pedidos at: UnNombre) agregarCuponFijoCon: UnValor.! !!AlgoPedidos methodsFor: 'as yet unclassified' stamp: 'juancc 11/1/2020 16:05'!actualizarProductoConNombre: UnNombreProducto conCantidad: UnaCantidad para: UnNombre	(Pedidos at: UnNombre) actualizarEncargoConNombre: UnNombreProducto conCantidad: UnaCantidad! !!AlgoPedidos methodsFor: 'as yet unclassified' stamp: 'juancc 11/1/2020 16:05'!agregarCuponAPedidoDe: UnNombre conPorcentaje: UnPorcentaje	(Pedidos at: UnNombre) agregarCuponPorcentualCon: UnPorcentaje! !!AlgoPedidos methodsFor: 'as yet unclassified' stamp: 'Juancc 10/28/2020 11:57'!crearPedidoConDeliveryPara: UnNombre	Pedidos at: UnNombre put: (PedidoParaDelivery new)! !!AlgoPedidos methodsFor: 'as yet unclassified' stamp: 'juancc 11/1/2020 16:05'!cantidadProductosEnPedidoDe: UnNombre 	^(Pedidos at: UnNombre)cantidad! !!AlgoPedidos methodsFor: 'as yet unclassified' stamp: 'juancc 11/1/2020 16:06'!removerProductoConNombre: UnNombreProducto para: UnNombre		(Pedidos at: UnNombre) removerEncargoCon:UnNombreProducto! !!AlgoPedidos methodsFor: 'as yet unclassified' stamp: 'Juancc 10/28/2020 11:19'!crearPedidoParaRetirarPara: UnNombre 	Pedidos at: UnNombre put: (PedidoParaRetirar new)! !!AlgoPedidos methodsFor: 'as yet unclassified' stamp: 'juancc 11/1/2020 16:05'!precioPedidoDe: UnNombre 		^( Pedidos at: UnNombre ) precio! !!AlgoPedidos methodsFor: 'as yet unclassified' stamp: 'juancc 11/2/2020 22:45'!agregarMenuConNombre: UnNombreMenu precio: UnPrecio yCantidad: UnaCantidad para: UnNombre	(Pedidos at: UnNombre) agregarMenuCon: UnNombreMenu precio: UnPrecio yCantidad: UnaCantidad! !!AlgoPedidos methodsFor: 'as yet unclassified' stamp: 'juancc 11/2/2020 22:46'!agregarProductoConNombre: UnNombreProducto precio: UnPrecio yCantidad: UnaCantidad para: UnNombre 	(Pedidos at: UnNombre) agregarProductoCon: UnNombreProducto precio: UnPrecio yCantidad: UnaCantidad! !!AlgoPedidos methodsFor: 'as yet unclassified' stamp: 'juancc 11/1/2020 16:06'!removerMenuConNombre: UnNombreMenu para: UnNombre 		(Pedidos at: UnNombre) removerEncargoCon: UnNombreMenu! !Error subclass: #AplicarCuponSinEncargosError	instanceVariableNames: ''	classVariableNames: ''	package: 'TP1'!Error subclass: #CantidadInvalidaEnEncargoError	instanceVariableNames: ''	classVariableNames: ''	package: 'TP1'!Object subclass: #Cupon	instanceVariableNames: ''	classVariableNames: ''	package: 'TP1'!!Cupon methodsFor: 'as yet unclassified' stamp: 'juancc 11/2/2020 17:46'!cargar: UnValor	! !!Cupon methodsFor: 'as yet unclassified' stamp: 'juancc 11/2/2020 17:45'!descontarA: UnPrecio! !!Cupon methodsFor: 'as yet unclassified' stamp: 'juancc 11/2/2020 17:49'!aplicarDescuentoA: UnPrecio con: Encargos	((Encargos size) == 0)ifTrue:[(AplicarCuponSinEncargosError new) signal].	Encargos detect:[:UnEncargo| UnEncargo noAplicaCupon ]ifNone:[^(self descontarA: UnPrecio)].	^UnPrecio! !!Cupon methodsFor: 'as yet unclassified' stamp: 'juancc 11/2/2020 17:47'!chequearValorDelCupon: UnValor		(UnValor < 0)ifTrue:[(CuponConValorNegativoError new) signal].! !Error subclass: #CuponConValorNegativoError	instanceVariableNames: ''	classVariableNames: ''	package: 'TP1'!Cupon subclass: #CuponFijo	instanceVariableNames: 'Valor'	classVariableNames: ''	package: 'TP1'!!CuponFijo methodsFor: 'as yet unclassified' stamp: 'juancc 11/2/2020 17:47'!cargar: UnValor	self chequearValorDelCupon: UnValor.	Valor := UnValor! !!CuponFijo methodsFor: 'as yet unclassified' stamp: 'juancc 10/29/2020 22:12'!descontarA: UnPrecio 	^(UnPrecio - Valor)! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!CuponFijo class	instanceVariableNames: ''!!CuponFijo class methodsFor: 'as yet unclassified' stamp: 'Juancc 10/29/2020 19:43'!inicializarCon: UnValor	|UnCuponFijo|	UnCuponFijo := CuponFijo new.	UnCuponFijo cargar: UnValor.	^UnCuponFijo ! !Cupon subclass: #CuponPorcentual	instanceVariableNames: 'Porcentaje'	classVariableNames: ''	package: 'TP1'!!CuponPorcentual methodsFor: 'as yet unclassified' stamp: 'juancc 11/2/2020 17:47'!cargar: UnValor	self chequearValorDelCupon: UnValor.	Porcentaje := (UnValor/100)! !!CuponPorcentual methodsFor: 'as yet unclassified' stamp: 'juancc 11/2/2020 17:24'!descontarA: UnPrecio 	^(UnPrecio - (UnPrecio * Porcentaje) )! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!CuponPorcentual class	instanceVariableNames: ''!!CuponPorcentual class methodsFor: 'as yet unclassified' stamp: 'Juancc 10/29/2020 19:45'!inicializarCon: UnValor	|UnCuponPorcentual|	UnCuponPorcentual := CuponPorcentual new.	UnCuponPorcentual cargar: UnValor.	^UnCuponPorcentual ! !Object subclass: #Encargo	instanceVariableNames: 'Nombre Cantidad Precio'	classVariableNames: ''	package: 'TP1'!!Encargo methodsFor: 'as yet unclassified' stamp: 'juancc 11/1/2020 22:51'!actualizarCon: UnaCantidad	self verificarCantidad: UnaCantidad.	Cantidad := UnaCantidad! !!Encargo methodsFor: 'as yet unclassified' stamp: 'juancc 11/1/2020 22:50'!verificarCantidad: UnaCantidad 	(UnaCantidad <= 0)ifTrue:[(CantidadInvalidaEnEncargoError new) signal].! !!Encargo methodsFor: 'as yet unclassified' stamp: 'juancc 10/29/2020 21:50'!precioTotal 	^(Precio * Cantidad)! !!Encargo methodsFor: 'as yet unclassified' stamp: 'juancc 11/3/2020 22:13'!verificarPrecio:UnPrecio	(UnPrecio <= 0)ifTrue:[(PrecioInvalidoDeEncargoError new) signal].! !!Encargo methodsFor: 'as yet unclassified' stamp: 'juancc 11/3/2020 22:12'!cargarCon: UnNombre precio:UnPrecio yCantidad: UnaCantidad	self verificarCantidad: UnaCantidad.	self verificarPrecio: UnPrecio.	Nombre := UnNombre.	Precio:= UnPrecio.	Cantidad := UnaCantidad.! !!Encargo methodsFor: 'as yet unclassified' stamp: 'juancc 11/2/2020 23:06'!tieneDeNombre: UnNombre 	^(UnNombre = Nombre)! !!Encargo methodsFor: 'as yet unclassified' stamp: 'juancc 10/29/2020 21:50'!precio	^Precio	! !!Encargo methodsFor: 'as yet unclassified' stamp: 'juancc 10/29/2020 21:50'!cantidad	^Cantidad! !!Encargo methodsFor: 'as yet unclassified' stamp: 'juancc 10/30/2020 14:51'!noAplicaCupon! !Encargo subclass: #Menu	instanceVariableNames: ''	classVariableNames: ''	package: 'TP1'!!Menu methodsFor: 'as yet unclassified' stamp: 'juancc 10/30/2020 14:53'!noAplicaCupon 	^true! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Menu class	instanceVariableNames: ''!!Menu class methodsFor: 'as yet unclassified' stamp: 'juancc 10/30/2020 14:21'!inicializarCon: UnNombre precio: UnPrecio  yCantidad:UnaCantidad 	|NuevoMenu|	NuevoMenu := Menu new.	NuevoMenu cargarCon: UnNombre precio:UnPrecio yCantidad:UnaCantidad.	^NuevoMenu ! !Object subclass: #Pedido	instanceVariableNames: 'Cupones Encargos'	classVariableNames: ''	package: 'TP1'!!Pedido methodsFor: 'initialization' stamp: 'juancc 10/30/2020 14:23'!initialize 	Encargos := OrderedCollection new.	Cupones := OrderedCollection new.! !!Pedido methodsFor: 'as yet unclassified' stamp: 'juancc 11/5/2020 14:31'!precio	| PrecioTotal |	PrecioTotal := 0.	PrecioTotal := self calcularPrecioDeEncargos.	Cupones do: [:UnCupon| PrecioTotal := (UnCupon aplicarDescuentoA: PrecioTotal con:Encargos)  ].		^PrecioTotal+(self costoDeEntregaCon: PrecioTotal).		! !!Pedido methodsFor: 'as yet unclassified' stamp: 'Juancc 10/28/2020 14:22'!removerCupones	Cupones removeAll.! !!Pedido methodsFor: 'as yet unclassified' stamp: 'Juancc 10/29/2020 19:47'!agregarCuponPorcentualCon: UnValor	Cupones add: ( CuponPorcentual inicializarCon: UnValor)! !!Pedido methodsFor: 'as yet unclassified' stamp: 'juancc 10/31/2020 15:54'!costoDeEntregaCon: UnPrecio! !!Pedido methodsFor: 'as yet unclassified' stamp: 'juancc 11/2/2020 22:46'!agregarProductoCon: UnNombre precio: UnPrecio yCantidad: UnaCantidad	Encargos add: (Producto inicializarCon: UnNombre precio:UnPrecio  yCantidad:UnaCantidad )! !!Pedido methodsFor: 'as yet unclassified' stamp: 'juancc 10/29/2020 21:55'!calcularPrecioDeEncargos 	^(Encargos inject: 0 into: [:UnPrecio :UnEncargo| UnPrecio  + (UnEncargo precioTotal)])		! !!Pedido methodsFor: 'as yet unclassified' stamp: 'Juancc 10/29/2020 19:47'!agregarCuponFijoCon: UnValor	Cupones add: ( CuponFijo inicializarCon: UnValor  )! !!Pedido methodsFor: 'as yet unclassified' stamp: 'juancc 11/2/2020 23:06'!actualizarEncargoConNombre: UnNombre conCantidad: UnaCantidad	|EncargoParaActualizar|		EncargoParaActualizar := Encargos detect:[:UnProducto| UnProducto tieneDeNombre:UnNombre].	EncargoParaActualizar actualizarCon: UnaCantidad! !!Pedido methodsFor: 'as yet unclassified' stamp: 'juancc 11/3/2020 22:12'!removerEncargoCon: UnNombre		Encargos removeAllSuchThat:[:UnEncargo| UnEncargo tieneDeNombre:UnNombre]				! !!Pedido methodsFor: 'as yet unclassified' stamp: 'juancc 10/29/2020 21:55'!cantidad 	^(Encargos inject: 0 into: [:UnaCantidad :UnEncargo| UnaCantidad  + (UnEncargo cantidad)])! !!Pedido methodsFor: 'as yet unclassified' stamp: 'juancc 11/2/2020 22:45'!agregarMenuCon: UnNombre precio: UnPrecio yCantidad: UnaCantidad	Encargos add: (Menu inicializarCon: UnNombre precio:UnPrecio  yCantidad:UnaCantidad )! !Pedido subclass: #PedidoParaDelivery	instanceVariableNames: ''	classVariableNames: ''	package: 'TP1'!!PedidoParaDelivery methodsFor: 'as yet unclassified' stamp: 'juancc 10/31/2020 15:54'!costoDeEntregaCon: UnPrecio	^(UnPrecio * 0.2) ! !Pedido subclass: #PedidoParaRetirar	instanceVariableNames: ''	classVariableNames: ''	package: 'TP1'!!PedidoParaRetirar methodsFor: 'as yet unclassified' stamp: 'juancc 10/31/2020 15:54'!costoDeEntregaCon: UnPrecio	^0! !Error subclass: #PrecioInvalidoDeEncargoError	instanceVariableNames: 'Nombre Cantidad Precio'	classVariableNames: ''	package: 'TP1'!Encargo subclass: #Producto	instanceVariableNames: ''	classVariableNames: ''	package: 'TP1'!!Producto methodsFor: 'as yet unclassified' stamp: 'juancc 10/30/2020 14:51'!noAplicaCupon	^false! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Producto class	instanceVariableNames: ''!!Producto class methodsFor: 'as yet unclassified' stamp: 'juancc 10/30/2020 14:21'!inicializarCon: UnNombre precio: UnPrecio  yCantidad:UnaCantidad 	|NuevoProducto|	NuevoProducto := Producto new.	NuevoProducto cargarCon: UnNombre precio:UnPrecio yCantidad:UnaCantidad.	^NuevoProducto ! !